!function(a,b){typeof exports==='object'&&typeof module!=='undefined'?module.exports=b():typeof define==='function'&&define.amd?define(b):(a.liike=b())}(this,(function(){'use strict';var a=function d(a,b,c){var e=c.start,f=c.end,g=c.from,h=c.to,i=c.easing,j=c.onstart,k=c.onprogress,l=c.onend;this.target=a;this.handler=b;this.start=e;this.end=f;this.easing=i;this.from=g;this.to=h;this.keys=[];this.onstart=j;this.onprogress=k;this.onend=l;this.running=!1;this.store=a.__liike||(a.__liike={})};a.prototype.init=function a(){var b=this,c=this,d=c.from,e=c.to,f=c.keys;for(var g in e)(g in d)||(d[g]=b.store[g]||0),f.push(g);for(var h in d)(h in e)||(e[h]=b.store[h]||0,f.push(h))};a.prototype.tick=function b(a){var c=this,d=this,e=d.keys,f=d.from,g=d.to,h=d.easing,i=h(a);for(var j=0;j<e.length;j++){var k=e[j];c.store[k]=f[k]+(g[k]-f[k])*i}this.handler(this.target,this.store)};var b=[],c=[],d=function(){},e=function(a){return a},f=0,g=function(a){while(c.length){var d=c.shift();d(a)}for(var e=0;e<b.length;e++){var h=b[e];if(a<h.start){continue}h.running||(h.running=!0,h.init(),h.onstart());var i=(a-h.start)/(h.end-h.start);h.tick(i<1?i:1);h.onprogress(i);a>h.end&&(h.onend(),b.splice(e--,1))}c.length||b.length?(f=window.requestAnimationFrame(g)):(f=0)},h=function(h){return function(i,j){var k=j.delay;k===void 0&&(k=0);var l=j.duration;l===void 0&&(l=0);var m=j.from;m===void 0&&(m={});var n=j.to;n===void 0&&(n={});var o=j.easing;o===void 0&&(o=e);var p=j.onprogress;p===void 0&&(p=d);var q=j.onstart;q===void 0&&(q=d);var r=j.onend;r===void 0&&(r=d);c.push(function(c){var d=new a(i,h,{start:c+k,end:c+k+l,from:m,to:n,easing:o,onstart:q,onprogress:p,onend:r});b.push(d)});f||(f=window.requestAnimationFrame(g))}};return h}))
